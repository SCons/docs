<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Fetching Values From a Construction Environment</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="SCons User Guide 0.98.5"
HREF="index.html"><LINK
REL="UP"
TITLE="Construction Environments"
HREF="c1197.html"><LINK
REL="PREVIOUS"
TITLE="Copying Construction Environments"
HREF="x1264.html"><LINK
REL="NEXT"
TITLE="Expanding Values From a Construction Environment"
HREF="x1307.html"></HEAD
><BODY
CLASS="section"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>SCons User Guide 0.98.5</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x1264.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 7. Construction Environments</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x1307.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="AEN1284"
>7.3. Fetching Values From a <TT
CLASS="literal"
>Construction Environment</TT
></A
></H1
><P
>&#13;
   You can fetch individual construction variables
   using the normal syntax
   for accessing individual named items in a Python dictionary:

   </P
><PRE
CLASS="programlisting"
>&#13;      env = Environment()
      print "CC is:", env['CC']
   </PRE
><P
>&#13;
   This example <TT
CLASS="filename"
>SConstruct</TT
> file doesn't build anything,
   but because it's actually a Python script,
   it will print the value of <A
HREF="a3655.html#cv-CC"
><CODE
CLASS="envar"
>$CC</CODE
></A
> for us:

   </P
><PRE
CLASS="screen"
>&#13;      % <KBD
CLASS="userinput"
>scons -Q</KBD
>
      CC is: cc
      scons: `.' is up to date.
   </PRE
><P
>&#13;
   A construction environment, however,
   is actually an object with associated methods, etc.
   If you want to have direct access to only the
   dictionary of construction variables,
   you can fetch this using the <TT
CLASS="literal"
>Dictionary</TT
> method:

   </P
><PRE
CLASS="programlisting"
>&#13;      env = Environment(FOO = 'foo', BAR = 'bar')
      dict = env.Dictionary()
      for key in ['OBJSUFFIX', 'LIBSUFFIX', 'PROGSUFFIX']:
          print "key = %s, value = %s" % (key, dict[key])
   </PRE
><P
>&#13;
   This <TT
CLASS="filename"
>SConstruct</TT
> file
   will print the specified dictionary items for us on POSIX
   systems as follows:

   </P
><PRE
CLASS="screen"
>&#13;      % <KBD
CLASS="userinput"
>scons -Q</KBD
>
      key = OBJSUFFIX, value = .o
      key = LIBSUFFIX, value = .a
      key = PROGSUFFIX, value = 
      scons: `.' is up to date.
   </PRE
><P
>&#13;
   And on Windows:

   </P
><PRE
CLASS="screen"
>&#13;      C:\&#62;<KBD
CLASS="userinput"
>scons -Q</KBD
>
      key = OBJSUFFIX, value = .obj
      key = LIBSUFFIX, value = .lib
      key = PROGSUFFIX, value = .exe
      scons: `.' is up to date.
   </PRE
><P
>&#13;
   If you want to loop through and print the values of
   all of the construction variables in a construction environment,
   the Python code to do that in sorted order might look something like:

   </P
><PRE
CLASS="programlisting"
>&#13;      env = Environment()
      dict = env.Dictionary()
      keys = dict.keys()
      keys.sort()
      for key in keys:
          print "construction variable = '%s', value = '%s'" % (key, dict[key])
   </PRE
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x1264.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x1307.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Copying <TT
CLASS="literal"
>Construction Environments</TT
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c1197.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Expanding Values From a <TT
CLASS="literal"
>Construction Environment</TT
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>