<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 2. Simple Builds</title><link rel="stylesheet" type="text/css" href="scons.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="SCons 4.9.1"><link rel="up" href="index.html" title="SCons 4.9.1"><link rel="prev" href="ch01s04.html" title="1.4. Running Multiple Versions of SCons Side-by-Side"><link rel="next" href="ch02s02.html" title="2.2. Building Object Files"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 2. Simple Builds</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch01s04.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch02s02.html">Next</a></td></tr></table><hr></div><div class="chapter" title="Chapter 2. Simple Builds"><div class="titlepage"><div><div><h2 class="title"><a name="chap-simple"></a>Chapter 2. Simple Builds</h2></div></div></div><p>

 The single most important thing you do when writing a
 build system for your project is to describe the "what":
 what you want to build, and which files you want to build it from.
 And, in fact, simpler builds may need no more.
 In this chapter, you will see several examples of
 very simple build configurations using <span class="application">SCons</span>,
 which will demonstrate how easy <span class="application">SCons</span> makes it to
 build programs on different types of systems.

 </p><div class="section" title="2.1. Building Simple C / C++ Programs"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sect-build-simple"></a>2.1. Building Simple C / C++ Programs</h2></div></div></div><p>

   Here's the ubiquitous
   <a class="ulink" href="https://en.wikipedia.org/wiki/%22Hello,_World!%22_program" target="_top">
   "Hello, World!"</a> program in C:

   </p><pre class="programlisting">
#include &lt;stdio.h&gt;

int
main()
{
        printf("Hello, world!\n");
}
   </pre><p>

   And here's how to build it using <span class="application">SCons</span>.
   Save the code above into <code class="filename">hello.c</code>,
   and enter the following into a file named <code class="filename">SConstruct</code>:

   </p><pre class="programlisting">
Program('hello.c')
      </pre><p>

   This minimal build file gives
   <span class="application">SCons</span> three key pieces of information:
   what you want to build (a program);
   what you want to call that program (its
   base name will be <code class="filename">hello</code>),
   and the source file you want it built from
   (the <code class="filename">hello.c</code> file).
   <a class="link" href="apb.html#b-Program"><code class="function">Program</code></a> is a <em class="firstterm"><em class="glossterm">Builder</em></em>,
   an <span class="application">SCons</span> function that you use to instruct
   <span class="application">SCons</span> about the "what" of your build.

   </p><p>

   That's it.  Now run the <span class="command"><strong>scons</strong></span> command to build the program.
   On a POSIX-compliant system like Linux or UNIX,
   you'll see something like:

   </p><pre class="screen">% <strong class="userinput"><code>scons</code></strong>
scons: Reading SConscript files ...
scons: done reading SConscript files.
scons: Building targets ...
cc -o hello.o -c hello.c
cc -o hello hello.o
scons: done building targets.
</pre><p>

   On a Windows system with the <span class="application">Microsoft Visual C++</span> compiler,
   you'll see something like:

   </p><pre class="screen">C:\&gt;<strong class="userinput"><code>scons</code></strong>
scons: Reading SConscript files ...
scons: done reading SConscript files.
scons: Building targets ...
cl /Fohello.obj /c hello.c /nologo
link /nologo /OUT:hello.exe hello.obj
embedManifestExeCheck(target, source, env)
scons: done building targets.
</pre><p>

   Notice that <span class="application">SCons</span> deduced quite a bit here: it figured
   out the name of the program to build, including operating
   system specific suffixes (<code class="filename">hello</code> or <code class="filename">hello.exe</code>), based off
   the basename of the source file; it knows an intermediate
   object file should be built (<code class="filename">hello.o</code> or <code class="filename">hello.obj</code>);
   and it knows how to build those things using the compiler
   that is appropriate on the system you're using.
   It was not necessary to instruct <span class="application">SCons</span> about any of those
   details.
   This is an example of how <span class="application">SCons</span>
   makes it easy to write portable software builds.

   </p><p>

   For the programming languages <span class="application">SCons</span> already knows about,
   it will mostly just figure it out.
   Here's the "Hello, World!" example in Fortran:

   </p><pre class="programlisting">
program hello
  print *, 'Hello, World!'
end program hello
   </pre><pre class="programlisting">
Program('hello', 'hello.f90')
   </pre><pre class="screen">
$ <strong class="userinput"><code>scons</code></strong>
scons: Reading SConscript files ...
scons: done reading SConscript files.
scons: Building targets ...
gfortran -o hello.o -c hello.f90
gfortran -o hello hello.o
scons: done building targets.
   </pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch01s04.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch02s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1.4. Running Multiple Versions of <span class="application">SCons</span> Side-by-Side </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 2.2. Building Object Files</td></tr></table></div></body></html>
