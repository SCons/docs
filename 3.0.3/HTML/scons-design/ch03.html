<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 3. Overview</title><link rel="stylesheet" type="text/css" href="scons.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="SCons 3.0.3"><link rel="up" href="index.html" title="SCons 3.0.3"><link rel="prev" href="ch02s02.html" title="2.2. Fixing Cons's problems"><link rel="next" href="ch03s02.html" title="3.2. Build Engine"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 3. Overview</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s02.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch03s02.html">Next</a></td></tr></table><hr></div><div class="chapter" title="Chapter 3. Overview"><div class="titlepage"><div><div><h2 class="title"><a name="chap-overview"></a>Chapter 3. Overview</h2></div></div></div><div class="section" title="3.1. Architecture"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="sect-architecture"></a>3.1. Architecture</h2></div></div></div><p>

   The heart of <span class="application">SCons</span> is its <span class="emphasis"><em>Build Engine</em></span>.
   The <span class="application">SCons</span> Build Engine is a Python module
   that manages dependencies between
   external objects
   such as files or database records.
   The Build Engine is designed to
   be interface-neutral
   and easily embeddable in any
   software system that needs dependency
   analysis between updatable objects.

 </p><p>

   The key parts of the Build Engine architecture
   are captured in the following quasi-UML diagram:

 </p><div class="figure"><a name="idm140654436447184"></a><p class="title"><b>Figure 3.1. <span class="application">SCons</span> Architecture</b></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="engine.svg" align="middle" width="270" alt="SCons Architecture"></div></div></div><br class="figure-break"><p>

   The point of <span class="application">SCons</span> is to manage
   dependencies between arbitrary external objects.
   Consequently, the Build Engine does not restrict or specify
   the nature of the external objects it manages,
   but instead relies on subclass of the <code class="classname">Node</code>
   class to interact with the external system or systems
   (file systems, database management systems)
   that maintain the objects being examined or updated.

 </p><p>

   The Build Engine presents to the software system in
   which it is embedded
   a Python API for specifying source (input) and target (output) objects,
   rules for building/updating objects,
   rules for scanning objects for dependencies, etc. 
   Above its Python API,
   the Build Engine is completely
   interface-independent,
   and can be encapsulated by any other software
   that supports embedded Python.

 </p><p>

   Software that chooses to use the Build Engine
   for dependency management
   interacts with it
   through <span class="emphasis"><em>Construction Environments</em></span>.
   A Construction Environment consists
   of a dictionary of environment variables,
   and one or more associated
   <code class="classname">Scanner</code> objects
   and <code class="classname">Builder</code> objects.
   The Python API is used to
   form these associations.

 </p><p>

   A <code class="classname">Scanner</code> object specifies
   how to examine a type of source object
   (C source file, database record)
   for dependency information.
   A <code class="classname">Scanner</code> object may use
   variables from the associated
   Construction Environment
   to modify how it scans an object:
   specifying a search path for included files,
   which field in a database record to consult,
   etc.

 </p><p>

   A <code class="classname">Builder</code> object specifies
   how to update a type of target object:
   executable program, object file, database field, etc.
   Like a <code class="classname">Scanner</code> object,
   a <code class="classname">Builder</code> object may use
   variables from the associated
   Construction Environment
   to modify how it builds an object:
   specifying flags to a compiler,
   using a different update function,
   etc.

 </p><p>

   <code class="classname">Scanner</code> and <code class="classname">Builder</code> objects will return one or more
   <code class="classname">Node</code> objects that represent external objects.
   <code class="classname">Node</code> objects are the means by which the
   Build Engine tracks dependencies:
   A <code class="classname">Node</code> may represent a source (input) object that
   should already exist,
   or a target (output) object which may be built,
   or both.
   The <code class="classname">Node</code> class is sub-classed to 
   represent external objects of specific type:
   files, directories, database fields or records, etc.
   Because dependency information, however,
   is tracked by the top-level <code class="classname">Node</code> methods and attributes,
   dependencies can exist
   between nodes representing different external object types.
   For example,
   building a file could be made
   dependent on the value of a given
   field in a database record,
   or a database table could depend
   on the contents of an external file.

 </p><p>

   The Build Engine uses a <code class="classname">Job</code> class (not displayed)
   to manage the actual work of updating external target objects:
   spawning commands to build files,
   submitting the necessary commands to update a database record,
   etc.
   The <code class="classname">Job</code> class has sub-classes
   to handle differences between spawning
   jobs in parallel and serially.

 </p><p>

   The Build Engine also uses a
   <code class="classname">Signature</code> class (not displayed)
   to maintain information about whether
   an external object is up-to-date.
   Target objects with out-of-date signatures
   are updated using the appropriate
   <code class="classname">Builder</code> object.

 </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s02.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch03s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2.2. Fixing <span class="application">Cons</span>'s problems </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3.2. Build Engine</td></tr></table></div></body></html>
