<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Path Names Are Relative to the SConscript Directory</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="SCons User Guide 1.0.0"
HREF="index.html"><LINK
REL="UP"
TITLE="Hierarchical Builds"
HREF="c3046.html"><LINK
REL="PREVIOUS"
TITLE="Hierarchical Builds"
HREF="c3046.html"><LINK
REL="NEXT"
TITLE="Top-Level Path Names in Subsidiary SConscript Files"
HREF="x3105.html"></HEAD
><BODY
CLASS="section"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>SCons User Guide 1.0.0</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="c3046.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 16. Hierarchical Builds</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x3105.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="AEN3079"
>16.2. Path Names Are Relative to the <TT
CLASS="filename"
>SConscript</TT
> Directory</A
></H1
><P
>&#13;
    Subsidiary <TT
CLASS="filename"
>SConscript</TT
> files make it easy to create a build
    hierarchy because all of the file and directory names
    in a subsidiary <TT
CLASS="filename"
>SConscript</TT
> files are interpreted
    relative to the directory in which the <TT
CLASS="filename"
>SConscript</TT
> file lives.
    Typically, this allows the <TT
CLASS="filename"
>SConscript</TT
> file containing the
    instructions to build a target file
    to live in the same directory as the source files
    from which the target will be built,
    making it easy to update how the software is built
    whenever files are added or deleted
    (or other changes are made).

    </P
><P
>&#13;
    For example, suppose we want to build two programs
    <TT
CLASS="filename"
>prog1</TT
> and <TT
CLASS="filename"
>prog2</TT
> in two separate directories
    with the same names as the programs.
    One typical way to do this would be
    with a top-level <TT
CLASS="filename"
>SConstruct</TT
> file like this:

    </P
><PRE
CLASS="programlisting"
>&#13;      SConscript(['prog1/SConscript',
                  'prog2/SConscript'])
    </PRE
><P
>&#13;
    And subsidiary <TT
CLASS="filename"
>SConscript</TT
> files that look like this:

    </P
><PRE
CLASS="programlisting"
>&#13;      env = Environment()
      env.Program('prog1', ['main.c', 'foo1.c', 'foo2.c'])
      </PRE
><P
>&#13;
    And this:

    </P
><PRE
CLASS="programlisting"
>&#13;      env = Environment()
      env.Program('prog2', ['main.c', 'bar1.c', 'bar2.c'])
      </PRE
><P
>&#13;
    Then, when we run <SPAN
CLASS="application"
>SCons</SPAN
> in the top-level directory,
    our build looks like:

    </P
><PRE
CLASS="screen"
>&#13;       % <KBD
CLASS="userinput"
>scons -Q</KBD
>
       cc -o prog1/foo1.o -c prog1/foo1.c
       cc -o prog1/foo2.o -c prog1/foo2.c
       cc -o prog1/main.o -c prog1/main.c
       cc -o prog1/prog1 prog1/main.o prog1/foo1.o prog1/foo2.o
       cc -o prog2/bar1.o -c prog2/bar1.c
       cc -o prog2/bar2.o -c prog2/bar2.c
       cc -o prog2/main.o -c prog2/main.c
       cc -o prog2/prog2 prog2/main.o prog2/bar1.o prog2/bar2.o
    </PRE
><P
>&#13;
    Notice the following:

    First, you can have files with the same names
    in multiple directories, like main.c in the above example.

    Second, unlike standard recursive use of <SPAN
CLASS="application"
>Make</SPAN
>,
    <SPAN
CLASS="application"
>SCons</SPAN
> stays in the top-level directory
    (where the <TT
CLASS="filename"
>SConstruct</TT
> file lives)
    and issues commands that use the path names
    from the top-level directory to the
    target and source files within the hierarchy.

    </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="c3046.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x3105.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Hierarchical Builds</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c3046.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Top-Level Path Names in Subsidiary <TT
CLASS="filename"
>SConscript</TT
> Files</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>