<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>13.2. Preventing target removal during clean: the NoClean Function</title><link rel="stylesheet" type="text/css" href="scons.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="SCons 3.0.2"><link rel="up" href="ch13.html" title="Chapter 13. Controlling Removal of Targets"><link rel="prev" href="ch13.html" title="Chapter 13. Controlling Removal of Targets"><link rel="next" href="ch13s03.html" title="13.3. Removing additional files during clean: the Clean Function"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">13.2. Preventing target removal during clean: the <code class="function">NoClean</code> Function</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch13.html">Prev</a> </td><th width="60%" align="center">Chapter 13. Controlling Removal of Targets</th><td width="20%" align="right"> <a accesskey="n" href="ch13s03.html">Next</a></td></tr></table><hr></div><div class="section" title="13.2. Preventing target removal during clean: the NoClean Function"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm140272271842896"></a>13.2. Preventing target removal during clean: the <code class="function">NoClean</code> Function</h2></div></div></div><p>

    By default, <span class="application">SCons</span> removes all built targets when invoked
    with the <code class="literal">-c</code> option to clean a source tree
    of built targets.
    Sometimes, however, this is not what you want.
    For example, you may want to remove only intermediate generated files
    (such as object files),
    but leave the final targets
    (the libraries)
    untouched.

    In such cases, you can use the <code class="function">NoClean</code> method to prevent <span class="application">SCons</span>
    from removing a target during a clean:

    </p><pre class="programlisting">
env = Environment(RANLIBCOM='')
lib = env.Library('foo', ['f1.c', 'f2.c', 'f3.c'])
env.NoClean(lib)
      </pre><p>

    Notice that the <code class="filename">libfoo.a</code>
    is not listed as a removed file:

    </p><pre class="screen">% <strong class="userinput"><code>scons -Q</code></strong>
cc -o f1.o -c f1.c
cc -o f2.o -c f2.c
cc -o f3.o -c f3.c
ar rc libfoo.a f1.o f2.o f3.o
% <strong class="userinput"><code>scons -c</code></strong>
scons: Reading SConscript files ...
scons: done reading SConscript files.
scons: Cleaning targets ...
Removed f1.o
Removed f2.o
Removed f3.o
scons: done cleaning targets.
</pre></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch13.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch13.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch13s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 13. Controlling Removal of Targets </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 13.3. Removing additional files during clean: the <code class="function">Clean</code> Function</td></tr></table></div></body></html>
