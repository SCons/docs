<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Ignoring Dependencies:  the Ignore Function</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="SCons User Guide 2.1.0"
HREF="index.html"><LINK
REL="UP"
TITLE="Dependencies"
HREF="c824.html"><LINK
REL="PREVIOUS"
TITLE="Dependencies From External Files:  the ParseDepends
  Function"
HREF="x1239.html"><LINK
REL="NEXT"
TITLE="Order-Only Dependencies:  the Requires Function"
HREF="x1302.html"></HEAD
><BODY
CLASS="section"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>SCons User Guide 2.1.0</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x1239.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 6. Dependencies</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x1302.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="AEN1275"
>6.7. Ignoring Dependencies:  the <CODE
CLASS="function"
>Ignore</CODE
> Function</A
></H1
><P
>&#13;
    Sometimes it makes sense
    to not rebuild a program,
    even if a dependency file changes.
    In this case,
    you would tell <SPAN
CLASS="application"
>SCons</SPAN
> specifically
    to ignore a dependency as follows:

    </P
><PRE
CLASS="programlisting"
>&#13;      hello_obj=Object('hello.c')
      hello = Program(hello_obj)
      Ignore(hello_obj, 'hello.h')
    </PRE
><PRE
CLASS="screen"
>&#13;      % <KBD
CLASS="userinput"
>scons -Q hello</KBD
>
      cc -c -o hello.o hello.c
      cc -o hello hello.o
      % <KBD
CLASS="userinput"
>scons -Q hello</KBD
>
      scons: `hello' is up to date.
      % <KBD
CLASS="userinput"
>edit hello.h</KBD
>
        [CHANGE THE CONTENTS OF hello.h]
      % <KBD
CLASS="userinput"
>scons -Q hello</KBD
>
      scons: `hello' is up to date.
    </PRE
><P
>&#13;
    Now, the above example is a little contrived,
    because it's hard to imagine a real-world situation
    where you wouldn't want to rebuild <TT
CLASS="filename"
>hello</TT
>
    if the <TT
CLASS="filename"
>hello.h</TT
> file changed.
    A more realistic example
    might be if the <TT
CLASS="filename"
>hello</TT
>
    program is being built in a
    directory that is shared between multiple systems
    that have different copies of the
    <TT
CLASS="filename"
>stdio.h</TT
> include file.
    In that case,
    <SPAN
CLASS="application"
>SCons</SPAN
> would notice the differences between
    the different systems' copies of <TT
CLASS="filename"
>stdio.h</TT
>
    and would rebuild <TT
CLASS="filename"
>hello</TT
>
    each time you change systems.
    You could avoid these rebuilds as follows:

    </P
><PRE
CLASS="programlisting"
>&#13;       hello = Program('hello.c', CPPPATH=['/usr/include'])
       Ignore(hello, '/usr/include/stdio.h')
    </PRE
><P
>&#13;    <CODE
CLASS="function"
>Ignore</CODE
> can also be used to prevent a generated file from being built 
    by default. This is due to the fact that directories depend on 
    their contents.  So to ignore a generated file from the default build, 
    you specify that the directory should ignore the generated file.
    Note that the file will still be built if the user specifically 
    requests the target on scons command line, or if the file is
    a dependency of another file which is requested and/or is built
    by default.
    </P
><PRE
CLASS="programlisting"
>&#13;      hello_obj=Object('hello.c')
      hello = Program(hello_obj)
      Ignore('.',[hello,hello_obj])
    </PRE
><PRE
CLASS="screen"
>&#13;      % <KBD
CLASS="userinput"
>scons -Q</KBD
>
      scons: `.' is up to date.
      % <KBD
CLASS="userinput"
>scons -Q hello</KBD
>
      cc -o hello.o -c hello.c
      cc -o hello hello.o
      % <KBD
CLASS="userinput"
>scons -Q hello</KBD
>
      scons: `hello' is up to date.
    </PRE
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x1239.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x1302.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Dependencies From External Files:  the <CODE
CLASS="function"
>ParseDepends</CODE
>
  Function</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c824.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Order-Only Dependencies:  the <CODE
CLASS="function"
>Requires</CODE
> Function</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>