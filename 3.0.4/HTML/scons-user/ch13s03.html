<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>13.3. Removing additional files during clean: the Clean Function</title><link rel="stylesheet" type="text/css" href="scons.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="SCons 3.0.4"><link rel="up" href="ch13.html" title="Chapter 13. Controlling Removal of Targets"><link rel="prev" href="ch13s02.html" title="13.2. Preventing target removal during clean: the NoClean Function"><link rel="next" href="ch14.html" title="Chapter 14. Hierarchical Builds"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">13.3. Removing additional files during clean: the <code class="function">Clean</code> Function</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch13s02.html">Prev</a> </td><th width="60%" align="center">Chapter 13. Controlling Removal of Targets</th><td width="20%" align="right"> <a accesskey="n" href="ch14.html">Next</a></td></tr></table><hr></div><div class="section" title="13.3. Removing additional files during clean: the Clean Function"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="idm3190"></a>13.3. Removing additional files during clean: the <code class="function">Clean</code> Function</h2></div></div></div><p>

    There may be additional files that you want removed
    when the <code class="literal">-c</code> option is used,
    but which <span class="application">SCons</span> doesn't know about
    because they're not normal target files.
    For example, perhaps a command you invoke
    creates a log file as
    part of building the target file you want.
    You would like the log file cleaned,
    but you don't want to have to teach
    SCons that the command
    "builds" two files.

    </p><p>

    You can use the <code class="function">Clean</code> function to arrange for additional files
    to be removed when the <code class="literal">-c</code> option is used.
    Notice, however, that the <code class="function">Clean</code> function takes two arguments,
    and the <span class="emphasis"><em>second</em></span> argument
    is the name of the additional file you want cleaned
    (<code class="filename">foo.log</code> in this example):

    </p><pre class="programlisting">
t = Command('foo.out', 'foo.in', 'build -o $TARGET $SOURCE')
Clean(t, 'foo.log')
      </pre><p>

    The first argument is the target with which you want
    the cleaning of this additional file associated.
    In the above example,
    we've used the return value from the
    <code class="function">Command</code> function,
    which represents the
    <code class="filename">foo.out</code>
    target.
    Now whenever the
    <code class="filename">foo.out</code> target is cleaned
    by the <code class="literal">-c</code> option,
    the <code class="filename">foo.log</code> file
    will be removed as well:

    </p><pre class="screen">% <strong class="userinput"><code>scons -Q</code></strong>
build -o foo.out foo.in
% <strong class="userinput"><code>scons -Q -c</code></strong>
Removed foo.out
Removed foo.log
</pre></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch13s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch13.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch14.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">13.2. Preventing target removal during clean: the <code class="function">NoClean</code> Function </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 14. Hierarchical Builds</td></tr></table></div></body></html>
